{"version":3,"sources":["resources/img/mjolnir.png","components/randomChar/RandomChar.js","components/charListItem/charListItem.js","components/charList/CharList.js","components/findChar/FindChar.js","components/charInfo/CharInfo.js","components/errorBoundary/ErrorBoundary.js","resources/img/vision.png","components/pages/MainPage.js","components/errorMessage/error.gif","components/errorMessage/ErrorMessage.js","services/MarvelService.js","hooks/http.hook.js","components/skeleton/Skeleton.js","utils/setContent.js"],"names":["Content","data","name","description","thumbnail","homepage","wiki","imgStyle","className","src","alt","style","href","RandomChar","useState","char","setChar","useMarvelService","getCharacter","clearError","process","setProcess","useEffect","updateChar","onCharLoaded","id","Math","floor","random","then","setContent","onClick","mjolnir","CharListItem","props","onCharSelected","onSetRef","onFocus","ref","tabIndex","e","elements","newListLoading","Spinner","ErrorMessage","Error","CharList","charList","setCharList","offset","setOffset","setNewListLoading","endList","setEndList","myRef","useRef","getAllCharacters","onRequest","initial","onCharListLoaded","newCharList","length","map","i","charProps","el","current","forEach","item","classList","remove","target","add","disabled","display","status","to","type","FindChar","findCharacter","useReducer","state","action","dispatch","onCharFinded","onSubmitForm","findedChar","formik","useFormik","initialValues","onSubmit","values","validationSchema","Yup","required","handleSubmit","placeholder","getFieldProps","errors","touched","comics","splice","CharInfo","charId","ErrorBoundary","error","info","console","log","this","setState","children","Component","MainPage","charSelected","setCharSelected","Helmet","content","decoration","width","margin","img","request","useCallback","url","method","body","headers","fetch","response","ok","json","useHttp","_apiBase","_apiKey","_baseOffset","a","res","results","_transformCharacter","getAllComics","_transformComics","getComic","title","path","extension","price","prices","urls","pageCount","language","textObjects","descr","slice","items","Skeleton"],"mappings":"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","file":"static/js/5.cec4b0df.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mjolnir.61f31e18.png\";","import { useState, useEffect } from 'react';\r\n\r\nimport useMarvelService from '../../services/MarvelService';\r\nimport setContent from '../../utils/setContent';\r\n\r\nimport './randomChar.scss';\r\nimport mjolnir from '../../resources/img/mjolnir.png';\r\n\r\nconst RandomChar = () => {\r\n\tconst [char, setChar] = useState({});\r\n\tconst {getCharacter, clearError, process, setProcess} = useMarvelService();\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateChar();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst onCharLoaded = (char) => {\r\n\t\tsetChar(char);\r\n\t}\r\n\r\n\tconst updateChar = () => {\r\n\t\tclearError();\r\n\t\tconst id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\r\n\t\tgetCharacter(id)\r\n\t\t\t.then(onCharLoaded)\r\n\t\t\t.then(() => setProcess('confirmed'));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"randomchar\">\r\n\t\t\t{setContent(process, Content, char)}\r\n\t\t\t<div className=\"randomchar__static\">\r\n\t\t\t\t<p className=\"randomchar__title\">\r\n\t\t\t\t\tRandom character for today!<br/>\r\n\t\t\t\t\tDo you want to get to know him better?\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"randomchar__title\">\r\n\t\t\t\t\tOr choose another one\r\n\t\t\t\t</p>\r\n\t\t\t\t<button className=\"button button__main\" onClick={updateChar}>\r\n\t\t\t\t\t<div className=\"inner\">try it</div>\r\n\t\t\t\t</button>\r\n\t\t\t\t<img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({data}) => {\r\n\tconst {name, description, thumbnail, homepage, wiki} = data;\r\n\tconst imgStyle = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? {'objectFit': 'contain'} : null;\r\n\r\n\treturn (\r\n\t\t<div className=\"randomchar__block\">\r\n\t\t\t<img src={thumbnail} alt=\"Random character\" style={imgStyle} className=\"randomchar__img\"/>\r\n\t\t\t<div className=\"randomchar__info\">\r\n\t\t\t\t<p className=\"randomchar__name\">{name}</p>\r\n\t\t\t\t<p className=\"randomchar__descr\">\r\n\t\t\t\t\t{description}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"randomchar__btns\">\r\n\t\t\t\t\t<a href={homepage} className=\"button button__main\">\r\n\t\t\t\t\t\t<div className=\"inner\">homepage</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\r\n\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default RandomChar;","\r\nconst CharListItem = (props) => {\r\n\tconst {thumbnail, imgStyle, name, onCharSelected, onSetRef, onFocus} = props;\r\n\r\n\treturn (\r\n\t\t<li \r\n\t\t\tref={onSetRef} \r\n\t\t\tclassName=\"char__item\" \r\n\t\t\tonClick={onCharSelected} \r\n\t\t\ttabIndex={0}\r\n\t\t\tonFocus={(e) => onFocus(e)}>\r\n\t\t\t<img src={thumbnail} style={imgStyle} alt={name}/>\r\n\t\t\t<div className=\"char__name\">{name}</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport default CharListItem;","import { useState, useEffect, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useMarvelService from '../../services/MarvelService';\r\nimport CharListItem from '../charListItem/charListItem';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\nimport Spinner from '../spinner/Spinner';\r\n\r\nimport './charList.scss';\r\n\r\nconst setContent = (process, elements, newListLoading) => {\r\n\tswitch (process) {\r\n\t\tcase 'waiting': \r\n\t\t\treturn <Spinner/>;\r\n\t\tcase 'loading': \r\n\t\t\treturn newListLoading ? \r\n\t\t\t\t\t\t\t<ul className=\"char__grid\">\r\n\t\t\t\t\t\t\t\t{elements}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t : <Spinner/>;\r\n\t\tcase 'confirmed': \r\n\t\t\treturn <ul className=\"char__grid\">\r\n\t\t\t\t\t\t\t\t{elements}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\tcase 'error': \r\n\t\t\treturn <ErrorMessage/>;\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Unexpected process state');\r\n\t}\r\n}\r\n\r\nconst CharList = (props) => {\r\n\tconst [charList, setCharList] = useState([]);\r\n\tconst [offset, setOffset] = useState(100);\r\n\tconst [newListLoading, setNewListLoading] = useState(false);\r\n\tconst [endList, setEndList] = useState(false);\r\n\tconst myRef = useRef([]);\r\n\tconst {getAllCharacters, process, setProcess} = useMarvelService();\r\n\r\n\tuseEffect(() => {\r\n\t\tonRequest(offset, true);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst onRequest = (offset, initial) => {\r\n\t\tinitial ? setNewListLoading(false) : setNewListLoading(true);\r\n\t\tgetAllCharacters(offset)\r\n\t\t\t.then(onCharListLoaded)\r\n\t\t\t.then(() => setProcess('confirmed'))\r\n\t}\r\n\r\n\tconst onCharListLoaded = (newCharList) => {\r\n\t\tif (newCharList.length < 9) {\r\n\t\t\tsetEndList(true)\r\n\t\t}\r\n\r\n\t\tsetCharList(charList => [...charList, ...newCharList]);\r\n\t\tsetNewListLoading(false);\r\n\t\tsetOffset(offset => offset + 9);\r\n\t}\r\n\r\n\tconst onFocus = (e) => {\r\n\t\tmyRef.current.forEach(item => {\r\n\t\t\titem.classList.remove('char__item_selected');\r\n\t\t})\r\n\t\t\r\n\t\te.target.classList.add('char__item_selected');\r\n\t}\r\n\t\r\n\tconst {onCharSelected} = props;\r\n\tconst elements = charList.map((char, i) => {\r\n\t\tconst {id, thumbnail, ...charProps} = char;\r\n\t\tconst imgStyle = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? {'objectFit': 'contain'} : null;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<CharListItem \r\n\t\t\t\tkey={id} \r\n\t\t\t\tonSetRef={(el) => myRef.current[i] = el} \r\n\t\t\t\tonCharSelected={() => onCharSelected(id)} \r\n\t\t\t\timgStyle={imgStyle} \r\n\t\t\t\tthumbnail={thumbnail}\r\n\t\t\t\tonFocus={(e) => {\r\n\t\t\t\t\tonFocus(e);\r\n\t\t\t\t\tonCharSelected(id);\r\n\t\t\t\t}} \r\n\t\t\t\t{...charProps}/>\r\n\t\t)\r\n\t})\r\n\r\n\treturn(\r\n\t\t<div className=\"char__list\">\r\n\t\t\t{setContent(process, elements, newListLoading)}\r\n\t\t\t<button \r\n\t\t\t\tclassName=\"button button__main button__long\" \r\n\t\t\t\tonClick={() => onRequest(offset)}\r\n\t\t\t\tdisabled={newListLoading}\r\n\t\t\t\tstyle={{display: endList ? 'none' : 'block'}}>\r\n\t\t\t\t\t<div className=\"inner\">load more</div>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\t\r\n}\r\n\r\nCharList.propTypes = {\r\n\tonCharSelected: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default CharList;","import {useState, useReducer} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {useFormik} from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport useMarvelService from '../../services/MarvelService';\r\n\r\nimport './findChar.scss'\r\n\r\nconst FindChar = () => {\r\n\tconst {findCharacter} = useMarvelService();\r\n\tconst [char, setChar] = useState(null);\r\n\tconst [status, dispatch] = useReducer(reducer, 'empty') \r\n\t\r\n\tfunction reducer(state, action) {\r\n\t\tswitch (action.type) {\r\n\t\t\tcase 'finded': return {status: 'finded'};\r\n\t\t\tcase 'notFinded': return {status: 'notFinded'};\r\n\t\t\tdefault: return state;\r\n\t\t}\r\n\t}\r\n\r\n\tconst onCharFinded = (char) => {\r\n\t\tsetChar(char);\r\n\t\tdispatch({type: 'finded'});\r\n\t}\r\n\r\n\tconst onCharNotFinded = () => {\r\n\t\tsetChar(null);\r\n\t\tdispatch({type: 'notFinded'});\r\n\t}\r\n\r\n\tconst onSubmitForm = async(name) => {\r\n\t\tconst findedChar = await findCharacter(name);\r\n\t\t\r\n\t\tif (findedChar) {\r\n\t\t\tonCharFinded(findedChar);\r\n\t\t} else {\r\n\t\t\tonCharNotFinded();\r\n\t\t}\r\n\t}\r\n\r\n\tconst formik = useFormik({\r\n\t\tinitialValues: {\r\n\t\t\tname: '',\r\n\t\t},\r\n\t\tonSubmit: (values) => onSubmitForm(values.name),\r\n\t\tvalidationSchema: Yup.object({\r\n\t\t\tname: Yup.string()\r\n\t\t\t\t\t\t\t\t.required('Name is required')\r\n\t\t})\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className=\"findChar\" onSubmit={formik.handleSubmit}>\r\n\t\t\t<div className=\"findChar__header\">\r\n\t\t\t\tOr find a character by name:\r\n\t\t\t</div>\r\n\t\t\t<form className=\"findChar__form\">\r\n\t\t\t\t<input \r\n\t\t\t\t\tname=\"name\" \r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t{...formik.getFieldProps('name')}/>\r\n\t\t\t\t<button className=\"button button__main\" type='submit'>\r\n\t\t\t\t\t<div className=\"inner\">Find</div>\r\n\t\t\t\t</button>\r\n\t\t\t\t{formik.errors.name && formik.touched.name ? <div className='error'>{formik.errors.name}</div> : null}\r\n\t\t\t</form>\r\n\t\t\t<Content char={char} status={status}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({char, status}) => {\r\n\tswitch (status.status) {\r\n\t\tcase 'finded': \r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className='findChar_finded'>{`There is! Visit ${char.name} page?`}</div>\r\n\t\t\t\t\t<Link to={`/marvel-test-project/characters/${char.id}`} className=\"button button__secondary\" type='submit'>\r\n\t\t\t\t\t\t<div className=\"inner\">To page</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\tcase 'notFinded': \r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='findChar_notFinded'>{`Oh, sorry, there is no matches with this name in database`}</div>\r\n\t\t\t\t)\r\n\t\tdefault: \r\n\t\t\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport default FindChar;","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useMarvelService from '../../services/MarvelService';\r\nimport FindChar from \"../findChar/FindChar\";\r\nimport setContent from '../../utils/setContent';\r\n\r\nimport './charInfo.scss';\r\n\r\nconst CharInfo = (props) => {\r\n\tconst [char, setChar] = useState(null);\r\n\tconst {getCharacter, clearError, process, setProcess} = useMarvelService();\r\n\r\n\tuseEffect(() => {\r\n\t\tupdateChar();\r\n\t\t// eslint-disable-next-line\r\n\t}, [props.charId]);\r\n\r\n\tconst onCharLoaded = (char) => {\r\n\t\tsetChar(char);\r\n\t}\r\n\r\n\tconst updateChar = () => {\r\n\t\tif(!props.charId) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tclearError();\r\n\r\n\t\tgetCharacter(props.charId)\r\n\t\t\t.then(onCharLoaded)\r\n\t\t\t.then(() => setProcess('confirmed'));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='char__wrapper'>\r\n\t\t\t<div className=\"char__info\">\r\n\t\t\t\t{setContent(process, Content, char)}\r\n\t\t\t</div>\r\n\t\t\t<FindChar/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Content = ({data}) => {\r\n\tconst {name, description, thumbnail, homepage, wiki} = data;\r\n\tlet {comics} = data;\r\n\r\n\tif (comics.length > 10) {\r\n\t\tcomics = comics.splice(0, 10);\r\n\t}\r\n\r\n\tlet elements = comics.map((item, id) => {\r\n\t\t\treturn (\r\n\t\t\t\t<li key={id} className=\"char__comics-item\">\r\n\t\t\t\t\t{item.name}\r\n\t\t\t\t</li>\r\n\t\t\t)\r\n\t})\r\n\r\n\telements = elements.length === 0 ? <div>There's no comics with this character</div> : elements; \r\n\r\n\tconst imgStyle = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? {'objectFit': 'contain'} : null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"char__basics\">\r\n\t\t\t\t<img style={imgStyle} src={thumbnail} alt={name}/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"char__info-name\">{name}</div>\r\n\t\t\t\t\t<div className=\"char__btns\">\r\n\t\t\t\t\t\t<a href={homepage} className=\"button button__main\">\r\n\t\t\t\t\t\t\t<div className=\"inner\">homepage</div>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\r\n\t\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div className=\"char__descr\">\r\n\t\t\t{description}\r\n\t\t</div>\r\n\t\t<div className=\"char__comics\">Comics:</div>\r\n\t\t<ul className=\"char__comics-list\">\r\n\t\t\t{elements}\r\n\t\t</ul>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nCharInfo.propTypes = {\r\n\tcharId: PropTypes.number,\r\n}\r\n\r\nexport default CharInfo;","import { Component } from \"react\";\r\n\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\n\r\nclass ErrorBoundary extends Component {\r\n\tstate = {\r\n\t\terror: false,\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n\t\tconsole.log(`Ошибка - ${error}, Инфо - ${info}`);\r\n\t\tthis.setState({error: true});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.error) {\r\n\t\t\treturn <ErrorMessage/>;\r\n\t\t}\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default ErrorBoundary;","export default __webpack_public_path__ + \"static/media/vision.067d4ae1.png\";","import { useState } from \"react\";\r\nimport { Helmet } from 'react-helmet';\r\n\r\nimport RandomChar from \"../randomChar/RandomChar\";\r\nimport CharList from \"../charList/CharList\";\r\nimport CharInfo from \"../charInfo/CharInfo\";\r\nimport ErrorBoundary from \"../errorBoundary/ErrorBoundary\";\r\n\r\nimport decoration from '../../resources/img/vision.png';\r\n\r\nconst MainPage = () => {\r\n\tconst [charSelected, setCharSelected] = useState(null);\r\n\r\n\tconst onCharSelected = (id) => {\r\n\t\tsetCharSelected(id);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta\r\n\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\tcontent=\"Marvel information portal\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t<title>Marvel information portal</title>\r\n\t\t\t</Helmet>\r\n\t\t\t<ErrorBoundary>\r\n\t\t\t\t<RandomChar/>\r\n\t\t\t</ErrorBoundary>\r\n\t\t\t<div className=\"char__content\">\r\n\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t<CharList onCharSelected={onCharSelected}/>\r\n\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t<CharInfo charId={charSelected}/>\r\n\t\t\t\t</ErrorBoundary>\r\n\t\t\t</div>\r\n\t\t\t<img className=\"bg-decoration\" src={decoration} alt=\"vision\"/>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default MainPage;\r\n\r\n","export default __webpack_public_path__ + \"static/media/error.2e68414c.gif\";","import img from './error.gif';\r\n\r\nconst ErrorMessage = () => {\r\n\treturn(\r\n\t\t<img style={{width: 200, display: 'block', margin: '20px auto 0 auto'}} src={img} alt=\"error\" />\r\n\t)\r\n}\r\n\r\nexport default ErrorMessage;","import { useHttp } from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n\tconst {request, clearError, process, setProcess} = useHttp(); \r\n\tconst _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n\tconst _apiKey = 'apikey=21aa5af94424603715dc10109257132d'; \r\n\tconst _baseOffset = 100;\r\n\tconst _issueNumber = 1;\r\n\tconst _comicsLimit = 8;\r\n\r\n\tconst getAllCharacters = async (offset = _baseOffset) => {\r\n\t\tconst res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\r\n\t\treturn res.data.results.map(_transformCharacter); \r\n\t}\r\n\t\r\n\tconst getCharacter = async (id) => {\r\n\t\tconst res = await request(`${_apiBase}characters/${id}?limit=9&offset=210&${_apiKey}`);\r\n\t\treturn _transformCharacter(res.data.results[0]);\r\n\t}\r\n\r\n\tconst findCharacter = async (name) => {\r\n\t\tlet res;\r\n\t\tlet data;\r\n\r\n\t\ttry {\r\n\t\t\tres = await request(`${_apiBase}characters?name=${name}&${_apiKey}`);\r\n\t\t\tif (res.data.results.length === 0) throw new Error(`There is no \"${name}\" in database`)\r\n\t\t\tdata = _transformCharacter(res.data.results[0]) \r\n\t\t} catch(e) {\r\n\t\t\tsetProcess('error');\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tconst getAllComics = async(offset = _baseOffset) => {\r\n\t\tconst res = await request(`${_apiBase}comics?issueNumber=${_issueNumber}&orderBy=focDate&limit=${_comicsLimit}&offset=${offset}&${_apiKey}`);\r\n\r\n\t\treturn res.data.results.map(_transformComics);\r\n\t}\r\n\r\n\tconst getComic = async(id) => {\r\n\t\tconst res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\r\n\r\n\t\treturn _transformComics(res.data.results[0]);\r\n\t}\r\n\r\n\tconst _transformComics = (comics) => {\r\n\r\n\t\treturn {\r\n\t\t\tid: comics.id,\r\n\t\t\tname: comics.title,\r\n\t\t\tthumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\r\n\t\t\tprice: comics.prices[0].price,\r\n\t\t\turl: comics.urls[0].url,\r\n\t\t\tdescription: comics.description,\r\n\t\t\tpageCount: comics.pageCount,\r\n\t\t\tlanguage: comics.textObjects[0] ? comics.textObjects[0].language : null,\r\n\t\t}\r\n\t}\r\n\r\n\tconst _transformCharacter = (char) => {\r\n\t\tlet descr = char.description;\r\n\t\tif (!descr) {\r\n\t\t\tdescr = \"Ooops..there's no info about this character\"\r\n\t\t} else if (descr.length > 210) {\r\n\t\t\tdescr = `${descr.slice(0, 207)}...`;\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\tname: char.name,\r\n\t\t\tdescription: descr,\r\n\t\t\tthumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n\t\t\thomepage: char.urls[0].url,\r\n\t\t\twiki: char.urls[1].url,\r\n\t\t\tid: char.id,\r\n\t\t\tcomics: char.comics.items,\r\n\t\t}\t\t\r\n\t}\r\n\r\n\treturn {\r\n\t\t\t\t\tgetAllCharacters, \r\n\t\t\t\t\tgetCharacter, \r\n\t\t\t\t\tclearError, \r\n\t\t\t\t\tgetAllComics, \r\n\t\t\t\t\tgetComic, \r\n\t\t\t\t\tfindCharacter,  \r\n\t\t\t\t\tprocess,\r\n\t\t\t\t\tsetProcess}\r\n}\r\n\r\nexport default useMarvelService;","import {useState, useCallback} from 'react';\r\n\r\nexport const useHttp = () => {\r\n\tconst [process, setProcess] = useState('waiting');\r\n\r\n\tconst request = useCallback(async (url, method = 'GET', body = null, headers = {'Content-type': 'application/json'}) => {\r\n\t\t\r\n\t\tsetProcess('loading');\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url, {method, body, headers});\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\treturn data;\r\n\r\n\t\t} catch(e) {\r\n\t\t\tsetProcess('error');\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst clearError = useCallback(() => {\r\n\t\tsetProcess('loading');\r\n\t}, []);\r\n\r\n\treturn {request, clearError, process, setProcess};\r\n}","import './skeleton.scss';\r\n\r\nconst Skeleton = () => {\r\n    return (\r\n\t\t\t<>\r\n\t\t\t\t<p className=\"char__select\">Please select a character to see information</p>\r\n\t\t\t\t<div className=\"skeleton\">\r\n\t\t\t\t\t<div className=\"pulse skeleton__header\">\r\n\t\t\t\t\t\t<div className=\"pulse skeleton__circle\"></div>\r\n\t\t\t\t\t\t<div className=\"pulse skeleton__mini\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"pulse skeleton__block\"></div>\r\n\t\t\t\t\t<div className=\"pulse skeleton__block\"></div>\r\n\t\t\t\t\t<div className=\"pulse skeleton__block\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n    )\r\n}\r\n\r\nexport default Skeleton;","import ErrorMessage from '../components/errorMessage/ErrorMessage';\r\nimport Spinner from '../components/spinner/Spinner';\r\nimport Skeleton from '../components/skeleton/Skeleton';\r\n\r\nconst setContent = (process, Component, data) => {\r\n\tswitch (process) {\r\n\t\tcase 'waiting': \r\n\t\t\treturn <Skeleton/>;\r\n\t\tcase 'loading': \r\n\t\t\treturn <Spinner/>;\r\n\t\tcase 'confirmed': \r\n\t\t\treturn <Component data={data}/>;\r\n\t\tcase 'error': \r\n\t\t\treturn <ErrorMessage/>;\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Unexpected process state');\r\n\t}\r\n}\r\n\r\nexport default setContent;"],"sourceRoot":""}