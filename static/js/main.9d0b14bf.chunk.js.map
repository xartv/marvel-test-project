{"version":3,"sources":["components/appHeader/AppHeader.js","services/MarvelService.js","components/spinner/Spinner.js","components/errorMessage/error.gif","components/errorMessage/ErrorMessage.js","resources/img/mjolnir.png","components/randomChar/RandomChar.js","components/charListItem/charListItem.js","components/charList/CharList.js","components/skeleton/Skeleton.js","components/charInfo/CharInfo.js","components/errorBoundary/ErrorBoundary.js","resources/img/vision.png","components/app/App.js","index.js"],"names":["AppHeader","className","href","MarvelService","_apiBase","_apiKey","_baseOffset","getResource","url","fetch","res","ok","Error","status","json","getAllCharacters","a","offset","data","results","map","_transformCharacter","getCharacter","id","char","descr","description","length","slice","name","thumbnail","path","extension","homepage","urls","wiki","comics","items","Spinner","xmlns","xmlnsXlink","style","margin","background","display","width","height","viewBox","preserveAspectRatio","cx","cy","r","strokeWidth","stroke","strokeDasharray","fill","strokeLinecap","attributeName","type","repeatCount","dur","keyTimes","values","ErrorMessage","src","img","alt","RandomChar","state","loading","error","marvelSevice","onCharLoaded","setState","onError","onCharLoading","updateChar","Math","floor","random","then","catch","this","view","spinner","errorMessage","onClick","mjolnir","Component","View","imgStyle","CharListItem","props","onCharSelected","onSetRef","onFocus","ref","tabIndex","e","CharList","charList","newListLoading","endList","myRef","marvelService","setRef","elem","push","onCharListLoaded","newCharList","onNewListLoading","onRequest","forEach","item","classList","remove","target","add","console","log","elements","charProps","content","disabled","Skeleton","CharInfo","charId","prevProps","skeleton","Content","splice","ErrorBoundary","info","children","App","charSelected","decoration","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d0b14bf.chunk.js","sourcesContent":["import './appHeader.scss';\n\nconst AppHeader = () => {\n    return (\n        <header className=\"app__header\">\n            <h1 className=\"app__title\">\n                <a href=\"#\">\n                    <span>Marvel</span> information portal\n                </a>\n            </h1>\n            <nav className=\"app__menu\">\n                <ul>\n                    <li><a href=\"#\">Characters</a></li>\n                    /\n                    <li><a href=\"#\">Comics</a></li>\n                </ul>\n            </nav>\n        </header>\n    )\n}\n\nexport default AppHeader;","\r\n\r\nexport default class MarvelService {\r\n\t_apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n\t_apiKey = 'apikey=21aa5af94424603715dc10109257132d';\r\n\t_baseOffset = 100;\r\n\r\n\tgetResource = async (url) => {\r\n\t\tlet res = await fetch(url);\r\n\t\r\n\t\tif (!res.ok) {\r\n\t\t\tthrow new Error(`Could not fetch ${url}, status: ${res.status}`);\r\n\t\t}\r\n\t\r\n\t\treturn await res.json();\r\n\t}\r\n\r\n\tgetAllCharacters = async (offset = this._baseOffset) => {\r\n\t\tconst res = await this.getResource(`${this._apiBase}characters?limit=9&offset=${offset}&${this._apiKey}`);\r\n\t\treturn res.data.results.map(this._transformCharacter); // можно не писать item => this._transformCharacter(item), приходящий аргумент итак попадет в коллбэк\r\n\t}\r\n\t\r\n\tgetCharacter = async (id) => {\r\n\t\tconst res = await this.getResource(`${this._apiBase}characters/${id}?limit=9&offset=210&${this._apiKey}`);\r\n\t\treturn this._transformCharacter(res.data.results[0]);\r\n\t}\r\n\r\n\t_transformCharacter = (char) => {\r\n\t\tlet descr = char.description;\r\n\t\tif (!descr) {\r\n\t\t\tdescr = \"Ooops..there's no info about this character\"\r\n\t\t} else if (descr.length > 210) {\r\n\t\t\tdescr = `${descr.slice(0, 207)}...`;\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\tname: char.name,\r\n\t\t\tdescription: descr,\r\n\t\t\tthumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n\t\t\thomepage: char.urls[0].url,\r\n\t\t\twiki: char.urls[1].url,\r\n\t\t\tid: char.id,\r\n\t\t\tcomics: char.comics.items,\r\n\t\t}\t\t\r\n\t}\r\n}\r\n\r\n","const Spinner = () => {\r\n\treturn(\r\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" style={{margin: '20px auto 0 auto', background: 'none', display: 'block'}} width=\"200px\" height=\"200px\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\">\r\n\t\t\t<circle cx=\"50\" cy=\"50\" r=\"21\" strokeWidth=\"5\" stroke=\"#9f0013\" strokeDasharray=\"32.98672286269283 32.98672286269283\" fill=\"none\" strokeLinecap=\"round\">\r\n\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" repeatCount=\"indefinite\" dur=\"1.25s\" keyTimes=\"0;1\" values=\"0 50 50;360 50 50\"></animateTransform>\r\n\t\t\t</circle>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Spinner;","export default __webpack_public_path__ + \"static/media/error.2e68414c.gif\";","import img from './error.gif';\r\n\r\nconst ErrorMessage = () => {\r\n\treturn(\r\n\t\t<img style={{width: 200, display: 'block', margin: '20px auto 0 auto'}} src={img} alt=\"error\" />\r\n\t)\r\n}\r\n\r\nexport default ErrorMessage;","export default __webpack_public_path__ + \"static/media/mjolnir.61f31e18.png\";","import { Component } from 'react';\n\nimport MarvelService from '../../services/MarvelService';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\n\nimport './randomChar.scss';\nimport mjolnir from '../../resources/img/mjolnir.png';\n\nclass RandomChar extends Component {\n\tstate = {\n\t\tchar: {},\n\t\tloading: true,\n\t\terror: false,\n\t}\n\n\tmarvelSevice = new MarvelService();\n\n\tonCharLoaded = (char) => {\n\t\tthis.setState({\n\t\t\tchar, \n\t\t\tloading: false,\n\t\t\terror: false,\n\t\t})\n\t}\n\n\tonError = () => {\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\terror: true,\n\t\t})\n\t}\n\n\tonCharLoading = () => {\n\t\tthis.setState(({loading: true}));\n\t}\n\n\tupdateChar = () => {\n\t\tthis.onCharLoading();\n\t\tconst id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n\t\tthis.marvelSevice\n\t\t\t.getCharacter(id)\n\t\t\t.then(this.onCharLoaded)\n\t\t\t.catch(this.onError)\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.updateChar();\n\t}\n\n\trender() {\n\t\tconst {char, loading, error} = this.state;\n\n\t\tconst view = !(error || loading) ? <View char={char}/> : null;\n\t\tconst spinner = loading ? <Spinner/> : null;\n\t\tconst errorMessage = error ? <ErrorMessage/> : null;\n\n\n\t\treturn (\n\t\t\t<div className=\"randomchar\">\n\t\t\t\t\t{view}\n\t\t\t\t\t{spinner}\n\t\t\t\t\t{errorMessage}\n\t\t\t\t\t<div className=\"randomchar__static\">\n\t\t\t\t\t\t\t<p className=\"randomchar__title\">\n\t\t\t\t\t\t\t\t\tRandom character for today!<br/>\n\t\t\t\t\t\t\t\t\tDo you want to get to know him better?\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"randomchar__title\">\n\t\t\t\t\t\t\t\t\tOr choose another one\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<button className=\"button button__main\" onClick={this.updateChar}>\n\t\t\t\t\t\t\t\t\t<div className=\"inner\">try it</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst View = ({char}) => {\n\tconst {name, description, thumbnail, homepage, wiki} = char;\n\tconst imgStyle = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? {'objectFit': 'contain'} : null;\n\n\treturn (\n\t\t<div className=\"randomchar__block\">\n\t\t\t<img src={thumbnail} alt=\"Random character\" style={imgStyle} className=\"randomchar__img\"/>\n\t\t\t<div className=\"randomchar__info\">\n\t\t\t\t\t<p className=\"randomchar__name\">{name}</p>\n\t\t\t\t\t<p className=\"randomchar__descr\">\n\t\t\t\t\t\t\t{description}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"randomchar__btns\">\n\t\t\t\t\t\t\t<a href={homepage} className=\"button button__main\">\n\t\t\t\t\t\t\t\t\t<div className=\"inner\">homepage</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\n\t\t\t\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RandomChar;","\r\nconst CharListItem = (props) => {\r\n\tconst {thumbnail, imgStyle, name, onCharSelected, onSetRef, onFocus} = props;\r\n\r\n\treturn (\r\n\t\t<li \r\n\t\t\tref={onSetRef} \r\n\t\t\tclassName=\"char__item\" \r\n\t\t\tonClick={onCharSelected} \r\n\t\t\ttabIndex={0}\r\n\t\t\tonFocus={(e) => onFocus(e)}>\r\n\t\t\t<img src={thumbnail} style={imgStyle} alt={name}/>\r\n\t\t\t<div className=\"char__name\">{name}</div>\r\n\t\t</li>\r\n\t)\r\n}\r\n\r\nexport default CharListItem;","import MarvelService from '../../services/MarvelService';\nimport CharListItem from '../charListItem/charListItem';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport Spinner from '../spinner/Spinner';\n\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './charList.scss';\n\nclass CharList extends Component {\n\n\tstate = {\n\t\tcharList: [],\n\t\tloading: true,\n\t\terror: false,\n\t\toffset: 100,\n\t\tnewListLoading: false,\n\t\tendList: false, \n\t}\n\n\tmyRef = [];\n\t\n\tmarvelService = new MarvelService();\n\n\tcomponentDidMount() {\n\t\tthis.onRequest();\n\t\tconsole.log(this.myRef);\n\t}\n\t\n\tsetRef = (elem) => {\n\t\tthis.myRef.push(elem);\n\t}\n\n\tonCharListLoaded = (newCharList) => {\n\t\tif (newCharList.length < 9) {\n\t\t\tthis.setState({\n\t\t\t\tendList: true,\n\t\t\t})\n\t\t}\n\n\t\tthis.setState( ({offset, charList}) => ({\n\t\t\tcharList: [...charList, ...newCharList],\n\t\t\tloading: false,\n\t\t\terror: false,\n\t\t\tnewListLoading: false,\n\t\t\toffset: offset + 9,\n\t\t}))\n\t}\n\n\tonError = () => {\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\terror: true,\n\t\t})\n\t}\n\n\tonNewListLoading = () => {\n\t\tthis.setState({\n\t\t\tnewListLoading: true,\n\t\t})\n\t}\n\n\tonRequest = (offset) => {\n\t\tthis.onNewListLoading();\n\t\tthis.marvelService\n\t\t\t.getAllCharacters(offset)\n\t\t\t.then(this.onCharListLoaded)\n\t\t\t.catch(this.onError)\n\t}\n\n\tonFocus = (e) => {\n\t\tthis.myRef.forEach(item => {\n\t\t\titem.classList.remove('char__item_selected');\n\t\t})\n\t\te.target.classList.add('char__item_selected');\n\t}\n\n\trender() {\n\t\tconst {charList, loading, error, offset, newListLoading, endList} = this.state;\n\t\tconst {onCharSelected} = this.props;\n\t\tconst elements = charList.map(char => {\n\t\t\tconst {id, thumbnail, ...charProps} = char;\n\t\t\tconst imgStyle = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? {'objectFit': 'contain'} : null;\n\n\t\t\treturn (\n\t\t\t\t<CharListItem \n\t\t\t\t\tkey={id} \n\t\t\t\t\tonSetRef={this.setRef} \n\t\t\t\t\tonCharSelected={() => onCharSelected(id)} \n\t\t\t\t\timgStyle={imgStyle} \n\t\t\t\t\tthumbnail={thumbnail}\n\t\t\t\t\tonFocus={(e) => {\n\t\t\t\t\t\tthis.onFocus(e);\n\t\t\t\t\t\tonCharSelected(id);\n\t\t\t\t\t}} \n\t\t\t\t\t{...charProps}/>\n\t\t\t)\n\t\t})\n\n\t\tconst spinner = loading ? <Spinner/> : null;\n\t\tconst errorMessage = error ? <ErrorMessage/> : null;\n\t\tconst content = !(loading || error) ? elements : null\n\n\t\treturn(\n\t\t\t<div className=\"char__list\">\n\t\t\t\t{errorMessage}\n\t\t\t\t{spinner}\n\t\t\t\t<ul className=\"char__grid\">\n\t\t\t\t\t{content}\n\t\t\t\t</ul>\n\t\t\t\t<button \n\t\t\t\t\tclassName=\"button button__main button__long\" \n\t\t\t\t\tonClick={() => this.onRequest(offset)}\n\t\t\t\t\tdisabled={newListLoading}\n\t\t\t\t\tstyle={{display: endList ? 'none' : 'block'}}>\n\t\t\t\t\t\t<div className=\"inner\">load more</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\t\n}\n\nCharList.propTypes = {\n\tonCharSelected: PropTypes.func.isRequired,\n}\n\nexport default CharList;","import './skeleton.scss';\n\nconst Skeleton = () => {\n    return (\n        <>\n            <p className=\"char__select\">Please select a character to see information</p>\n            <div className=\"skeleton\">\n                <div className=\"pulse skeleton__header\">\n                    <div className=\"pulse skeleton__circle\"></div>\n                    <div className=\"pulse skeleton__mini\"></div>\n                </div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n            </div>\n        </>\n    )\n}\n\nexport default Skeleton;","import MarvelService from '../../services/MarvelService';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport Spinner from '../spinner/Spinner';\nimport Skeleton from '../skeleton/Skeleton';\n\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './charInfo.scss';\n\nclass CharInfo extends Component {\n\n\tstate = {\n\t\tchar: null,\n\t\tloading: false,\n\t\terror: false,\n\t}\n\n\tmarvelSevice = new MarvelService();\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif(this.props.charId !== prevProps.charId) {\n\t\t\tthis.updateChar();\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateChar();\n\t}\n\n\tonCharLoaded = (char) => {\n\t\tthis.setState({\n\t\t\tchar, \n\t\t\tloading: false,\n\t\t\terror: false,\n\t\t})\n\t}\n\n\tonError = () => {\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\terror: true,\n\t\t})\n\t}\n\n\tonCharLoading = () => {\n\t\tthis.setState(({loading: true}));\n\t}\n\n\tupdateChar = () => {\n\t\tconst {charId} = this.props;\n\n\t\tif(!charId) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.onCharLoading();\n\n\t\tthis.marvelSevice\n\t\t\t.getCharacter(charId)\n\t\t\t.then(this.onCharLoaded)\n\t\t\t.catch(this.onError)\n\t};\n\n\trender() {\n\t\tconst {char, loading, error} = this.state;\n\n\t\tconst content = !(error || loading || !char) ? <Content char={char}/> : null;\n\t\tconst spinner = loading ? <Spinner/> : null;\n\t\tconst errorMessage = error ? <ErrorMessage/> : null;\n\t\tconst skeleton = !(error || loading || char) ? <Skeleton/> : null;\n\n\t\treturn (\n\t\t\t<div className=\"char__info\">\n\t\t\t\t{content}\n\t\t\t\t{spinner}\n\t\t\t\t{errorMessage}\n\t\t\t\t{skeleton}\n\t\t\t</div>\n\t)\n\t}\n}\n\nconst Content = ({char}) => {\n\tconst {name, description, thumbnail, homepage, wiki} = char;\n\tlet {comics} = char;\n\n\tif (comics.length > 10) {\n\t\tcomics = comics.splice(0, 10);\n\t}\n\n\tlet elements = comics.map((item, id) => {\n\t\t\treturn (\n\t\t\t\t<li key={id} className=\"char__comics-item\">\n\t\t\t\t\t{item.name}\n\t\t\t\t</li>\n\t\t\t)\n\t})\n\n\telements = elements.length === 0 ? <div>There's no comics with this character</div> : elements; \n\n\tconst imgStyle = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? {'objectFit': 'contain'} : null;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"char__basics\">\n\t\t\t\t\t\t\t<img style={imgStyle} src={thumbnail} alt={name}/>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"char__info-name\">{name}</div>\n\t\t\t\t\t\t\t\t\t<div className=\"char__btns\">\n\t\t\t\t\t\t\t\t\t\t\t<a href={homepage} className=\"button button__main\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"inner\">homepage</div>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"char__descr\">\n\t\t\t\t\t\t\t{description}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"char__comics\">Comics:</div>\n\t\t\t\t\t<ul className=\"char__comics-list\">\n\t\t\t\t\t\t\t{elements}\n\t\t\t\t\t</ul>\n\t\t</>\n\t)\n}\n\nCharInfo.propTypes = {\n\tcharId: PropTypes.number,\n}\n\nexport default CharInfo;","import { Component } from \"react\";\r\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\r\n\r\nclass ErrorBoundary extends Component {\r\n\tstate = {\r\n\t\terror: false,\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n\t\tconsole.log(`Ошибка - ${error}, Инфо - ${info}`);\r\n\t\tthis.setState({error: true});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.error) {\r\n\t\t\treturn <ErrorMessage/>;\r\n\t\t}\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default ErrorBoundary;","export default __webpack_public_path__ + \"static/media/vision.067d4ae1.png\";","import { Component } from \"react\";\n\nimport AppHeader from \"../appHeader/AppHeader\";\nimport RandomChar from \"../randomChar/RandomChar\";\nimport CharList from \"../charList/CharList\";\nimport CharInfo from \"../charInfo/CharInfo\";\nimport ErrorBoundary from \"../errorBoundary/ErrorBoundary\";\n\nimport decoration from '../../resources/img/vision.png';\n\nclass App extends Component {\n\n\tstate = {\n\t\tcharSelected: null,\n\t}\n\n\tonCharSelected = (id) => {\n\t\tthis.setState({\n\t\t\tcharSelected: id,\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<AppHeader/>\n\t\t\t\t<main>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<RandomChar/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t<div className=\"char__content\">\n\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t<CharList onCharSelected={this.onCharSelected}/>\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t<CharInfo charId={this.state.charSelected}/>\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t</div>\n\t\t\t\t\t<img className=\"bg-decoration\" src={decoration} alt=\"vision\"/>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t)\n\t}   \n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\n\nimport './style/style.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}